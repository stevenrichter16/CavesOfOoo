<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Enhanced Adventure Roguelike</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="src/css/styles.css">
</head>
<body>
  <div>
    <h1>Enhanced Adventure Roguelike — Ooo Explorer v2.0</h1>
    <div id="legend">
      <strong>Legend:</strong>
      <span class="pill">@ you</span>
      <span class="pill">g goober</span><span class="pill">i ice-thing</span>
      <span class="pill">s sootling</span><span class="pill">f firefly</span>
      <span class="pill">☼ flame pup</span>
      <span class="pill">W wraith</span><span class="pill">◆ shadow</span>
      <span class="pill">K knight</span><span class="pill">D demon</span>
      <span class="pill">B boss</span>
      <span class="pill">★ artifact</span><span class="pill">♪ oddity</span>
      <span class="pill">! potion</span><span class="pill">/ weapon</span>
      <span class="pill">] armor</span><span class="pill">^ headgear</span>
      <span class="pill">$ chest</span><span class="pill">▲ shrine</span>
      <span class="pill">V vendor</span><span class="pill">+ door</span>
    </div>
  </div>
  
  <div id="hud">
    <div class="pill" id="hp">HP</div>
    <div class="pill" id="xp">XP</div>
    <div class="pill" id="level">Level</div>
    <div class="pill" id="gold" style="color: #ffd700;">Gold</div>
    <div class="pill" id="str">STR</div>
    <div class="pill" id="def">DEF</div>
    <div class="pill" id="spd">SPD</div>
    <div class="pill" id="weapon">Weapon</div>
    <div class="pill" id="armor">Armor</div>
    <div class="pill" id="headgear">Headgear</div>
    <div class="pill" id="potions">Potions</div>
    <div class="pill" id="quests">Quests</div>
    <div class="pill" id="time">Time</div>
    <div class="pill" id="biome">Biome</div>
    <div class="pill" id="coords">Area</div>
    <div class="pill" id="danger">Danger</div>
    <div id="statusBar"></div>
  </div>
  
  <div id="gameContainer">
    <div style="position:relative">
      <div id="game"></div>
    </div>
    <div id="equipmentPanel">
      <h3>⚔️ Equipment ⚔️</h3>
      <div id="equipmentSlots"></div>
      <div class="total-stats" id="totalStats"></div>
    </div>
  </div>
  
  <div id="log"></div>
    <div id="logger" class="log"></div>
  
  <div style="display:flex;gap:8px">
    <a href="#" id="restart" class="button" style="display:none">Restart</a>
    <button id="resetWorld" class="button" title="Clear saved world">Reset World</button>
    <button id="help" class="button">Help</button>
  </div>

  <!-- Inventory overlay -->
  <div id="overlay">
    <div class="panel">
      <h2 id="overlayTitle">Inventory</h2>
      <div id="overlayContent"></div>
      <div class="hint" id="overlayHint">Arrow keys to select • Enter to use/equip • D to drop • I/Esc to close</div>
    </div>
  </div>

  <!-- World Map overlay -->
  <div id="mapOverlay">
    <div id="mapContent"></div>
  </div>

  <script type="module">
    import './src/js/ui/fx.js'; // Initialize visual effects
    import { initGame } from './src/js/game.js';
    initGame();
  </script>
</body>
</html>